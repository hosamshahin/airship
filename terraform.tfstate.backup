{
    "version": 3,
    "terraform_version": "0.11.14",
    "serial": 7,
    "lineage": "79aaf2b4-6bdf-4309-3b32-d9dd696f7170",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_security_group.ecs_service_sg": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.lb_sg",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "sg-0b82e992e87ef0ccc",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:security-group/sg-0b82e992e87ef0ccc",
                            "description": "Allow all inbound traffic to service port",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-0b82e992e87ef0ccc",
                            "ingress.#": "1",
                            "ingress.131493045.cidr_blocks.#": "0",
                            "ingress.131493045.description": "",
                            "ingress.131493045.from_port": "80",
                            "ingress.131493045.ipv6_cidr_blocks.#": "0",
                            "ingress.131493045.prefix_list_ids.#": "0",
                            "ingress.131493045.protocol": "tcp",
                            "ingress.131493045.security_groups.#": "1",
                            "ingress.131493045.security_groups.2271722602": "sg-0a90e656e24b34417",
                            "ingress.131493045.self": "false",
                            "ingress.131493045.to_port": "80",
                            "name": "fargate-ecs-service-sg",
                            "owner_id": "541585145005",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "fargate-ecs-service-sg",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.lb_sg": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "sg-0a90e656e24b34417",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:security-group/sg-0a90e656e24b34417",
                            "description": "Allow all inbound traffic to http and https",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.description": "",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-0a90e656e24b34417",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.description": "",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.ipv6_cidr_blocks.#": "0",
                            "ingress.2214680975.prefix_list_ids.#": "0",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.description": "",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.ipv6_cidr_blocks.#": "0",
                            "ingress.2617001939.prefix_list_ids.#": "0",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "load-balancer-sg",
                            "owner_id": "541585145005",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.Name": "load-balancer-sg",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_route53_zone.zone": {
                    "type": "aws_route53_zone",
                    "depends_on": [],
                    "primary": {
                        "id": "Z3T6H53BUFJCXX",
                        "attributes": {
                            "caller_reference": "DFCF3DB4-4BF2-83FD-AD1C-C51AA6AB7916",
                            "comment": "",
                            "id": "Z3T6H53BUFJCXX",
                            "name": "testing.nis.could.vt.edu.",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-753.awsdns-30.net",
                            "name_servers.1": "ns-120.awsdns-15.com",
                            "name_servers.2": "ns-1541.awsdns-00.co.uk",
                            "name_servers.3": "ns-1223.awsdns-24.org",
                            "private_zone": "false",
                            "resource_record_set_count": "2",
                            "zone_id": "Z3T6H53BUFJCXX"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "alb_shared_services_external"
            ],
            "outputs": {
                "dns_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-external-1394061812.us-east-1.elb.amazonaws.com"
                },
                "http_tcp_listener_arns": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f"
                    ]
                },
                "http_tcp_listener_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f"
                    ]
                },
                "https_listener_arns": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "https_listener_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "load_balancer_arn_suffix": {
                    "sensitive": false,
                    "type": "string",
                    "value": "app/ecs-external/23ad6b3148bef36a"
                },
                "load_balancer_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a"
                },
                "load_balancer_zone_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "Z35SXDOTRQ7X7K"
                },
                "target_group_arn_suffixes": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "targetgroup/default-ext/a114dc6d73dfa332"
                    ]
                },
                "target_group_arns": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/default-ext/a114dc6d73dfa332"
                    ]
                },
                "target_group_names": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "default-ext"
                    ]
                }
            },
            "resources": {
                "aws_lb.application": {
                    "type": "aws_lb",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                        "attributes": {
                            "access_logs.#": "1",
                            "access_logs.0.bucket": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "access_logs.0.enabled": "true",
                            "access_logs.0.prefix": "",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                            "arn_suffix": "app/ecs-external/23ad6b3148bef36a",
                            "dns_name": "ecs-external-1394061812.us-east-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "enable_http2": "true",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "ecs-external",
                            "security_groups.#": "1",
                            "security_groups.2271722602": "sg-0a90e656e24b34417",
                            "subnet_mapping.#": "2",
                            "subnet_mapping.385499951.allocation_id": "",
                            "subnet_mapping.385499951.subnet_id": "subnet-0f855cddb14e796de",
                            "subnet_mapping.4246828073.allocation_id": "",
                            "subnet_mapping.4246828073.subnet_id": "subnet-05c420067d8bbe716",
                            "subnets.#": "2",
                            "subnets.1290216209": "subnet-05c420067d8bbe716",
                            "subnets.2581994196": "subnet-0f855cddb14e796de",
                            "tags.%": "2",
                            "tags.Environment": "ECS Test Setup",
                            "tags.Name": "ecs-external",
                            "vpc_id": "vpc-0282b001d5cd3edf4",
                            "zone_id": "Z35SXDOTRQ7X7K"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener.frontend_http_tcp": {
                    "type": "aws_lb_listener",
                    "depends_on": [
                        "aws_lb.application.*",
                        "aws_lb.application_no_logs.*",
                        "aws_lb_target_group.main.*"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "0",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/default-ext/a114dc6d73dfa332",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "read": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.main": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "aws_lb.application"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/default-ext/a114dc6d73dfa332",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/default-ext/a114dc6d73dfa332",
                            "arn_suffix": "targetgroup/default-ext/a114dc6d73dfa332",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "10",
                            "health_check.0.matcher": "200-299",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/default-ext/a114dc6d73dfa332",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "default-ext",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "true",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "2",
                            "tags.Environment": "ECS Test Setup",
                            "tags.Name": "default-ext",
                            "target_type": "instance",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs"
            ],
            "outputs": {
                "asg_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "cluster_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo"
                },
                "ecs_cluster_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo"
                },
                "ecs_instance_profile": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "ecs_instance_role": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {
                "aws_ecs_cluster.this": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo",
                            "id": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo",
                            "name": "ecs-demo",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service"
            ],
            "outputs": {
                "aws_ecs_task_definition_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web:1"
                },
                "aws_ecs_task_definition_family": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web"
                },
                "ecs_taskrole_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-task-role"
                },
                "ecs_taskrole_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web-task-role"
                },
                "has_changed": {
                    "sensitive": false,
                    "type": "string",
                    "value": "\nImage: nginx:stable | \u003cECS_SERVICE_DOES_NOT_EXIST_YET\u003e\nCPU: 256 | \nMemory: 512 | \nMemory Reservation: 0 | \nDocker Labels:  | \nEnvironment: {\"ENV_VARIABLE\":\"SOMETHING\"} | \nHas_changed: true\n"
                },
                "lb_target_group_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0"
                },
                "task_execution_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-ecs-task-execution_role"
                }
            },
            "resources": {
                "aws_cloudwatch_log_group.app": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [
                        "local.ecs_cluster_name"
                    ],
                    "primary": {
                        "id": "ecs-demo/demo-web",
                        "attributes": {
                            "arn": "arn:aws:logs:us-east-1:541585145005:log-group:ecs-demo/demo-web:*",
                            "id": "ecs-demo/demo-web",
                            "kms_key_id": "",
                            "name": "ecs-demo/demo-web",
                            "retention_in_days": "14",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lb_s3_bucket"
            ],
            "outputs": {
                "bucket_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "bucket_domain_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer.s3.amazonaws.com"
                },
                "bucket_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "bucket_prefix": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {
                "data.aws_elb_service_account.default": {
                    "type": "aws_elb_service_account",
                    "depends_on": [],
                    "primary": {
                        "id": "127311923021",
                        "attributes": {
                            "arn": "arn:aws:iam::127311923021:root",
                            "id": "127311923021"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.default": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "data.aws_elb_service_account.default",
                        "module.label"
                    ],
                    "primary": {
                        "id": "589743523",
                        "attributes": {
                            "id": "589743523",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:PutObject\",\n      \"Resource\": \"arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::127311923021:root\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.315547055": "s3:PutObject",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.1001788533.identifiers.#": "1",
                            "statement.0.principals.1001788533.identifiers.1294614456": "arn:aws:iam::127311923021:root",
                            "statement.0.principals.1001788533.type": "AWS",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.619530821": "arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer/*",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc"
            ],
            "outputs": {
                "database_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-089ef564b80782ad3"
                    ]
                },
                "database_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "database_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "database_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "default_network_acl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "acl-018b7fb0cef8c7978"
                },
                "default_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-0f6d199fa9e390270"
                },
                "default_security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-0cde8993c295361a0"
                },
                "default_vpc_cidr_block": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_network_acl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_default_security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_enable_dns_hostnames": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_enable_dns_support": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_instance_tenancy": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "default_vpc_main_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-089ef564b80782ad3"
                    ]
                },
                "elasticache_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_subnet_group_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "elasticache_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "elasticache_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "igw_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "igw-08f65584c09024982"
                },
                "intra_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "intra_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "intra_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "nat_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "eipalloc-0d5d8e09b0db79b74"
                    ]
                },
                "nat_public_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "3.226.130.132"
                    ]
                },
                "natgw_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "nat-04a675b66d77763fb"
                    ]
                },
                "private_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-089ef564b80782ad3"
                    ]
                },
                "private_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-0ab399933537e6622",
                        "subnet-041ee0754ebc5547a"
                    ]
                },
                "private_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.50.21.0/24",
                        "10.50.22.0/24"
                    ]
                },
                "public_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-0eeaae714436d8289"
                    ]
                },
                "public_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-0f855cddb14e796de",
                        "subnet-05c420067d8bbe716"
                    ]
                },
                "public_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.50.11.0/24",
                        "10.50.12.0/24"
                    ]
                },
                "redshift_route_table_ids": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-089ef564b80782ad3"
                    ]
                },
                "redshift_subnet_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "redshift_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "redshift_subnets_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                },
                "vgw_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_cidr_block": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.50.0.0/16"
                },
                "vpc_enable_dns_hostnames": {
                    "sensitive": false,
                    "type": "string",
                    "value": "true"
                },
                "vpc_enable_dns_support": {
                    "sensitive": false,
                    "type": "string",
                    "value": "true"
                },
                "vpc_endpoint_dynamodb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_dynamodb_pl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_s3_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_endpoint_s3_pl_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-0282b001d5cd3edf4"
                },
                "vpc_instance_tenancy": {
                    "sensitive": false,
                    "type": "string",
                    "value": "default"
                },
                "vpc_main_route_table_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-0f6d199fa9e390270"
                },
                "vpc_secondary_cidr_blocks": {
                    "sensitive": false,
                    "type": "list",
                    "value": []
                }
            },
            "resources": {
                "aws_eip.nat": {
                    "type": "aws_eip",
                    "depends_on": [
                        "local.nat_gateway_count"
                    ],
                    "primary": {
                        "id": "eipalloc-0d5d8e09b0db79b74",
                        "attributes": {
                            "association_id": "eipassoc-0dcc608d0e6570227",
                            "domain": "vpc",
                            "id": "eipalloc-0d5d8e09b0db79b74",
                            "instance": "",
                            "network_interface": "eni-0c9a6c9e4c305c4a9",
                            "private_dns": "ip-10-50-11-94.ec2.internal",
                            "private_ip": "10.50.11.94",
                            "public_dns": "ec2-3-226-130-132.compute-1.amazonaws.com",
                            "public_ip": "3.226.130.132",
                            "public_ipv4_pool": "amazon",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-us-east-1a",
                            "tags.Terraform": "true",
                            "vpc": "true"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 180000000000,
                                "read": 900000000000,
                                "update": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_internet_gateway.this": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "igw-08f65584c09024982",
                        "attributes": {
                            "id": "igw-08f65584c09024982",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_nat_gateway.this": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_internet_gateway.this",
                        "aws_subnet.public.*",
                        "local.nat_gateway_count",
                        "local.nat_gateway_ips"
                    ],
                    "primary": {
                        "id": "nat-04a675b66d77763fb",
                        "attributes": {
                            "allocation_id": "eipalloc-0d5d8e09b0db79b74",
                            "id": "nat-04a675b66d77763fb",
                            "network_interface_id": "eni-0c9a6c9e4c305c4a9",
                            "private_ip": "10.50.11.94",
                            "public_ip": "3.226.130.132",
                            "subnet_id": "subnet-0f855cddb14e796de",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-us-east-1a",
                            "tags.Terraform": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.private_nat_gateway": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.this.*",
                        "aws_route_table.private.*",
                        "local.nat_gateway_count"
                    ],
                    "primary": {
                        "id": "r-rtb-089ef564b80782ad31080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-089ef564b80782ad31080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-04a675b66d77763fb",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-089ef564b80782ad3",
                            "state": "active",
                            "transit_gateway_id": "",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route.public_internet_gateway": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_internet_gateway.this",
                        "aws_route_table.public"
                    ],
                    "primary": {
                        "id": "r-rtb-0eeaae714436d82891080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "igw-08f65584c09024982",
                            "id": "r-rtb-0eeaae714436d82891080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-0eeaae714436d8289",
                            "state": "active",
                            "transit_gateway_id": "",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 300000000000,
                                "delete": 300000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.private": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "local.max_subnet_length",
                        "local.nat_gateway_count",
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "rtb-089ef564b80782ad3",
                        "attributes": {
                            "id": "rtb-089ef564b80782ad3",
                            "owner_id": "541585145005",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.417085430.cidr_block": "0.0.0.0/0",
                            "route.417085430.egress_only_gateway_id": "",
                            "route.417085430.gateway_id": "",
                            "route.417085430.instance_id": "",
                            "route.417085430.ipv6_cidr_block": "",
                            "route.417085430.nat_gateway_id": "nat-04a675b66d77763fb",
                            "route.417085430.network_interface_id": "",
                            "route.417085430.transit_gateway_id": "",
                            "route.417085430.vpc_peering_connection_id": "",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-private",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "rtb-0eeaae714436d8289",
                        "attributes": {
                            "id": "rtb-0eeaae714436d8289",
                            "owner_id": "541585145005",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3103199165.cidr_block": "0.0.0.0/0",
                            "route.3103199165.egress_only_gateway_id": "",
                            "route.3103199165.gateway_id": "igw-08f65584c09024982",
                            "route.3103199165.instance_id": "",
                            "route.3103199165.ipv6_cidr_block": "",
                            "route.3103199165.nat_gateway_id": "",
                            "route.3103199165.network_interface_id": "",
                            "route.3103199165.transit_gateway_id": "",
                            "route.3103199165.vpc_peering_connection_id": "",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-public",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private.*",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-0d779afafac28a6c0",
                        "attributes": {
                            "id": "rtbassoc-0d779afafac28a6c0",
                            "route_table_id": "rtb-089ef564b80782ad3",
                            "subnet_id": "subnet-0ab399933537e6622"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.private.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private.*",
                        "aws_subnet.private.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-0907ac5ffceaf5395",
                        "attributes": {
                            "id": "rtbassoc-0907ac5ffceaf5395",
                            "route_table_id": "rtb-089ef564b80782ad3",
                            "subnet_id": "subnet-041ee0754ebc5547a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-06923f8fb50e404bb",
                        "attributes": {
                            "id": "rtbassoc-06923f8fb50e404bb",
                            "route_table_id": "rtb-0eeaae714436d8289",
                            "subnet_id": "subnet-0f855cddb14e796de"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.public.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "aws_subnet.public.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-075662b465e94d45f",
                        "attributes": {
                            "id": "rtbassoc-075662b465e94d45f",
                            "route_table_id": "rtb-0eeaae714436d8289",
                            "subnet_id": "subnet-05c420067d8bbe716"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "subnet-0ab399933537e6622",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:subnet/subnet-0ab399933537e6622",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "availability_zone_id": "use1-az1",
                            "cidr_block": "10.50.21.0/24",
                            "id": "subnet-0ab399933537e6622",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-private-us-east-1a",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "subnet-041ee0754ebc5547a",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:subnet/subnet-041ee0754ebc5547a",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "availability_zone_id": "use1-az2",
                            "cidr_block": "10.50.22.0/24",
                            "id": "subnet-041ee0754ebc5547a",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-private-us-east-1b",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "subnet-0f855cddb14e796de",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:subnet/subnet-0f855cddb14e796de",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1a",
                            "availability_zone_id": "use1-az1",
                            "cidr_block": "10.50.11.0/24",
                            "id": "subnet-0f855cddb14e796de",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "true",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-public-us-east-1a",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "local.vpc_id"
                    ],
                    "primary": {
                        "id": "subnet-05c420067d8bbe716",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:subnet/subnet-05c420067d8bbe716",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-east-1b",
                            "availability_zone_id": "use1-az2",
                            "cidr_block": "10.50.12.0/24",
                            "id": "subnet-05c420067d8bbe716",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "true",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc-public-us-east-1b",
                            "tags.Terraform": "true",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.this": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-0282b001d5cd3edf4",
                        "attributes": {
                            "arn": "arn:aws:ec2:us-east-1:541585145005:vpc/vpc-0282b001d5cd3edf4",
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.50.0.0/16",
                            "default_network_acl_id": "acl-018b7fb0cef8c7978",
                            "default_route_table_id": "rtb-0f6d199fa9e390270",
                            "default_security_group_id": "sg-0cde8993c295361a0",
                            "dhcp_options_id": "dopt-4cbc1928",
                            "enable_classiclink": "false",
                            "enable_classiclink_dns_support": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-0282b001d5cd3edf4",
                            "instance_tenancy": "default",
                            "ipv6_association_id": "",
                            "ipv6_cidr_block": "",
                            "main_route_table_id": "rtb-0f6d199fa9e390270",
                            "owner_id": "541585145005",
                            "tags.%": "2",
                            "tags.Name": "ecs-vpc",
                            "tags.Terraform": "true"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs",
                "autoscalinggroup"
            ],
            "outputs": {
                "asg_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {
                "data.aws_ami.ecs_ami": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-0c09d65d2051ada93",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "2",
                            "block_device_mappings.2538004115.device_name": "/dev/xvdcz",
                            "block_device_mappings.2538004115.ebs.%": "6",
                            "block_device_mappings.2538004115.ebs.delete_on_termination": "true",
                            "block_device_mappings.2538004115.ebs.encrypted": "false",
                            "block_device_mappings.2538004115.ebs.iops": "0",
                            "block_device_mappings.2538004115.ebs.snapshot_id": "",
                            "block_device_mappings.2538004115.ebs.volume_size": "22",
                            "block_device_mappings.2538004115.ebs.volume_type": "gp2",
                            "block_device_mappings.2538004115.no_device": "",
                            "block_device_mappings.2538004115.virtual_name": "",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-002fa4af73c56072b",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2019-07-10T01:10:09.000Z",
                            "description": "Amazon Linux AMI 2018.03.v x86_64 ECS HVM GP2",
                            "filter.#": "2",
                            "filter.3263794121.name": "name",
                            "filter.3263794121.values.#": "1",
                            "filter.3263794121.values.0": "amzn-ami-*-amazon-ecs-optimized*",
                            "filter.574890044.name": "owner-alias",
                            "filter.574890044.values.#": "1",
                            "filter.574890044.values.0": "amazon",
                            "hypervisor": "xen",
                            "id": "ami-0c09d65d2051ada93",
                            "image_id": "ami-0c09d65d2051ada93",
                            "image_location": "amazon/amzn-ami-2018.03.v-amazon-ecs-optimized",
                            "image_owner_alias": "amazon",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "amzn-ami-2018.03.v-amazon-ecs-optimized",
                            "owner_id": "591542846629",
                            "owners.#": "1",
                            "owners.0": "amazon",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "root_snapshot_id": "snap-002fa4af73c56072b",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.%": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_region._": {
                    "type": "aws_region",
                    "depends_on": [],
                    "primary": {
                        "id": "us-east-1",
                        "attributes": {
                            "description": "US East (N. Virginia)",
                            "endpoint": "ec2.us-east-1.amazonaws.com",
                            "id": "us-east-1",
                            "name": "us-east-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.cloud_config_amazon": {
                    "type": "template_file",
                    "depends_on": [
                        "data.aws_region._",
                        "local.name"
                    ],
                    "primary": {
                        "id": "67ac4a4bfd7c11731a5a76c3465726b52e57654788c0e74cb93e60250458232d",
                        "attributes": {
                            "id": "67ac4a4bfd7c11731a5a76c3465726b52e57654788c0e74cb93e60250458232d",
                            "rendered": "#!/bin/bash\nset -Eeuxo pipefail\n\necho ECS_CLUSTER=ecs-demo \u003e\u003e /etc/ecs/ecs.config\n\nif [ \"0\" == \"1\" ]; then\n echo 'while ! iptables -L DOCKER-USER \u003e /dev/null 2\u003e/dev/null ; do echo \"Waiting for the iptables DOCKER-USER chain to exist\";sleep 1;done' \u003e\u003e /etc/rc.local\n echo iptables --insert DOCKER-USER 1 --in-interface docker+ --destination 169.254.169.254/32 --jump DROP \u003e\u003e /etc/rc.local\nfi\n\n# EFS MOUNTING\nif [ \"0\" == \"1\" ]; then\n  mkdir -p /mnt/efs\n  if ! rpm -qa | grep -qw nfs-utils; then\n    yum -y install nfs-utils\n  fi\n  if ! rpm -qa | grep -qw python27; then\n\t  yum -y install python27\n  fi\n  AZ_ZONE=$(curl -L http://169.254.169.254/latest/meta-data/placement/availability-zone);\n  DIR_SRC=$AZ_ZONE..efs.us-east-1.amazonaws.com\n  DIR_TGT=/mnt/efs\n\n  mount -t nfs4 $DIR_SRC:/ $DIR_TGT\n  cp -p /etc/fstab /etc/fstab.back-$(date +%F)\n  #Append line to fstab\n  echo -e \"$DIR_SRC:/ \\t\\t $DIR_TGT \\t\\t nfs \\t\\t defaults \\t\\t 0 \\t\\t 0\" | tee -a /etc/fstab\nfi\n\n\n",
                            "template": "#!/bin/bash\nset -Eeuxo pipefail\n\necho ECS_CLUSTER=${name} \u003e\u003e /etc/ecs/ecs.config\n\nif [ \"${block_metadata_service}\" == \"1\" ]; then\n echo 'while ! iptables -L DOCKER-USER \u003e /dev/null 2\u003e/dev/null ; do echo \"Waiting for the iptables DOCKER-USER chain to exist\";sleep 1;done' \u003e\u003e /etc/rc.local\n echo iptables --insert DOCKER-USER 1 --in-interface docker+ --destination 169.254.169.254/32 --jump DROP \u003e\u003e /etc/rc.local\nfi\n\n# EFS MOUNTING\nif [ \"${efs_enabled}\" == \"1\" ]; then\n  mkdir -p ${efs_mount_folder}\n  if ! rpm -qa | grep -qw nfs-utils; then\n    yum -y install nfs-utils\n  fi\n  if ! rpm -qa | grep -qw python27; then\n\t  yum -y install python27\n  fi\n  AZ_ZONE=$(curl -L http://169.254.169.254/latest/meta-data/placement/availability-zone);\n  DIR_SRC=$AZ_ZONE.${efs_id}.efs.${region}.amazonaws.com\n  DIR_TGT=${efs_mount_folder}\n\n  mount -t nfs4 $DIR_SRC:/ $DIR_TGT\n  cp -p /etc/fstab /etc/fstab.back-$(date +%F)\n  #Append line to fstab\n  echo -e \"$DIR_SRC:/ \\t\\t $DIR_TGT \\t\\t nfs \\t\\t defaults \\t\\t 0 \\t\\t 0\" | tee -a /etc/fstab\nfi\n\n${custom_userdata}\n",
                            "vars.%": "7",
                            "vars.block_metadata_service": "0",
                            "vars.custom_userdata": "",
                            "vars.efs_enabled": "0",
                            "vars.efs_id": "",
                            "vars.efs_mount_folder": "/mnt/efs",
                            "vars.name": "ecs-demo",
                            "vars.region": "us-east-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs",
                "iam"
            ],
            "outputs": {
                "ecs_instance_profile": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "ecs_instance_role": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "alb_handling"
            ],
            "outputs": {
                "aws_lb_listener_rules": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener-rule/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f/4e5f5655085f4148"
                    ]
                },
                "lb_target_group_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0"
                }
            },
            "resources": {
                "aws_lb_listener_rule.host_based_routing": {
                    "type": "aws_lb_listener_rule",
                    "depends_on": [
                        "aws_lb_target_group.service",
                        "aws_route53_record.record.*",
                        "aws_route53_record.record_alias_a.*",
                        "local.route53_record_type"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener-rule/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f/4e5f5655085f4148",
                        "attributes": {
                            "action.#": "1",
                            "action.0.authenticate_cognito.#": "0",
                            "action.0.authenticate_oidc.#": "0",
                            "action.0.fixed_response.#": "0",
                            "action.0.order": "1",
                            "action.0.redirect.#": "0",
                            "action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                            "action.0.type": "forward",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener-rule/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f/4e5f5655085f4148",
                            "condition.#": "1",
                            "condition.2865368829.field": "host-header",
                            "condition.2865368829.values.#": "1",
                            "condition.2865368829.values.0": "demo-web.testing.nis.could.vt.edu",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener-rule/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f/4e5f5655085f4148",
                            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f",
                            "priority": "1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.service": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "local.tg_name"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                            "arn_suffix": "targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.enabled": "true",
                            "health_check.0.healthy_threshold": "3",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                            "lambda_multi_value_headers_enabled": "false",
                            "name": "ecs-demo-demo-web",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "target_type": "ip",
                            "vpc_id": "vpc-0282b001d5cd3edf4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route53_record.record_alias_a": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "data.aws_lb.main"
                    ],
                    "primary": {
                        "id": "Z3T6H53BUFJCXX_demo-web_A_identifier",
                        "attributes": {
                            "alias.#": "1",
                            "alias.3521920219.evaluate_target_health": "false",
                            "alias.3521920219.name": "ecs-external-1394061812.us-east-1.elb.amazonaws.com",
                            "alias.3521920219.zone_id": "Z35SXDOTRQ7X7K",
                            "fqdn": "demo-web.testing.nis.could.vt.edu",
                            "id": "Z3T6H53BUFJCXX_demo-web_A_identifier",
                            "name": "demo-web",
                            "set_identifier": "identifier",
                            "type": "A",
                            "weighted_routing_policy.#": "1",
                            "weighted_routing_policy.0.weight": "0",
                            "zone_id": "Z3T6H53BUFJCXX"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lb.main": {
                    "type": "aws_lb",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                        "attributes": {
                            "access_logs.#": "1",
                            "access_logs.0.bucket": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "access_logs.0.enabled": "true",
                            "access_logs.0.prefix": "",
                            "arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                            "arn_suffix": "app/ecs-external/23ad6b3148bef36a",
                            "dns_name": "ecs-external-1394061812.us-east-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:us-east-1:541585145005:loadbalancer/app/ecs-external/23ad6b3148bef36a",
                            "idle_timeout": "60",
                            "internal": "false",
                            "load_balancer_type": "application",
                            "name": "ecs-external",
                            "security_groups.#": "1",
                            "security_groups.2271722602": "sg-0a90e656e24b34417",
                            "subnet_mapping.#": "2",
                            "subnet_mapping.1874972506.allocation_id": "",
                            "subnet_mapping.1874972506.subnet_id": "subnet-0f855cddb14e796de",
                            "subnet_mapping.2216360028.allocation_id": "",
                            "subnet_mapping.2216360028.subnet_id": "subnet-05c420067d8bbe716",
                            "subnets.#": "2",
                            "subnets.1290216209": "subnet-05c420067d8bbe716",
                            "subnets.2581994196": "subnet-0f855cddb14e796de",
                            "tags.%": "2",
                            "tags.Environment": "ECS Test Setup",
                            "tags.Name": "ecs-external",
                            "vpc_id": "vpc-0282b001d5cd3edf4",
                            "zone_id": "Z35SXDOTRQ7X7K"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "container_definition"
            ],
            "outputs": {
                "json": {
                    "sensitive": false,
                    "type": "string",
                    "value": "[{\"command\":null,\"cpu\":256,\"entryPoint\":null,\"environment\":[{\"name\":\"ENV_VARIABLE\",\"value\":\"SOMETHING\"}],\"essential\":true,\"healthCheck\":null,\"hostname\":null,\"image\":\"nginx:stable\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-demo/demo-web\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"demo-web\"}},\"memory\":512,\"memoryReservation\":null,\"mountPoints\":null,\"name\":\"app\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"privileged\":false,\"readonlyRootFilesystem\":false,\"workingDirectory\":null}]"
                }
            },
            "resources": {
                "null_resource.envvars_as_list_of_maps": {
                    "type": "null_resource",
                    "depends_on": [
                        "local.safe_search_replace_string"
                    ],
                    "primary": {
                        "id": "6297838695241774062",
                        "attributes": {
                            "id": "6297838695241774062",
                            "triggers.%": "2",
                            "triggers.name": "#keep_true_a_string_hack#ENV_VARIABLE",
                            "triggers.value": "#keep_true_a_string_hack#SOMETHING"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "ecs_autoscaling"
            ],
            "outputs": {},
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "ecs_service"
            ],
            "outputs": {
                "ecs_service_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "demo-web"
                }
            },
            "resources": {
                "aws_ecs_service.app_with_lb_awsvpc": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "local.lb_attached",
                        "null_resource.aws_lb_listener_rules"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:541585145005:service/demo-web",
                        "attributes": {
                            "cluster": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo",
                            "deployment_controller.#": "1",
                            "deployment_controller.0.type": "ECS",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "enable_ecs_managed_tags": "false",
                            "health_check_grace_period_seconds": "0",
                            "iam_role": "aws-service-role",
                            "id": "arn:aws:ecs:us-east-1:541585145005:service/demo-web",
                            "launch_type": "FARGATE",
                            "load_balancer.#": "1",
                            "load_balancer.2662712753.container_name": "app",
                            "load_balancer.2662712753.container_port": "80",
                            "load_balancer.2662712753.elb_name": "",
                            "load_balancer.2662712753.target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:541585145005:targetgroup/ecs-demo-demo-web/a2a87b826fc621f0",
                            "name": "demo-web",
                            "network_configuration.#": "1",
                            "network_configuration.0.assign_public_ip": "false",
                            "network_configuration.0.security_groups.#": "1",
                            "network_configuration.0.security_groups.3365652766": "sg-0b82e992e87ef0ccc",
                            "network_configuration.0.subnets.#": "2",
                            "network_configuration.0.subnets.2442316439": "subnet-041ee0754ebc5547a",
                            "network_configuration.0.subnets.3078834290": "subnet-0ab399933537e6622",
                            "ordered_placement_strategy.#": "0",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "platform_version": "LATEST",
                            "propagate_tags": "NONE",
                            "scheduling_strategy": "REPLICA",
                            "service_registries.#": "0",
                            "tags.%": "0",
                            "task_definition": "ecs-demo-demo-web:1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "null_resource.aws_lb_listener_rules": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "8483913990524303299",
                        "attributes": {
                            "id": "8483913990524303299",
                            "triggers.%": "1",
                            "triggers.listeners": "arn:aws:elasticloadbalancing:us-east-1:541585145005:listener-rule/app/ecs-external/23ad6b3148bef36a/dc7eae35667d237f/4e5f5655085f4148"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "ecs_task_definition"
            ],
            "outputs": {
                "aws_ecs_task_definition_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:ecs:us-east-1:541585145005:task-definition/ecs-demo-demo-web:1"
                },
                "aws_ecs_task_definition_family": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web"
                },
                "aws_ecs_task_definition_revision": {
                    "sensitive": false,
                    "type": "string",
                    "value": "1"
                }
            },
            "resources": {
                "aws_ecs_task_definition.app": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "local.docker_volume_name"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-east-1:541585145005:task-definition/ecs-demo-demo-web:1",
                            "container_definitions": "[{\"cpu\":256,\"environment\":[{\"name\":\"ENV_VARIABLE\",\"value\":\"SOMETHING\"}],\"essential\":true,\"image\":\"nginx:stable\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-demo/demo-web\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"demo-web\"}},\"memory\":512,\"mountPoints\":[],\"name\":\"app\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"privileged\":false,\"readonlyRootFilesystem\":false,\"volumesFrom\":[]}]",
                            "cpu": "256",
                            "execution_role_arn": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-ecs-task-execution_role",
                            "family": "ecs-demo-demo-web",
                            "id": "ecs-demo-demo-web",
                            "memory": "512",
                            "network_mode": "awsvpc",
                            "placement_constraints.#": "0",
                            "proxy_configuration.#": "0",
                            "requires_compatibilities.#": "1",
                            "requires_compatibilities.3072437307": "FARGATE",
                            "revision": "1",
                            "tags.%": "0",
                            "task_role_arn": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-task-role",
                            "volume.#": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "ecs_task_definition_selector"
            ],
            "outputs": {
                "has_changed": {
                    "sensitive": false,
                    "type": "string",
                    "value": "\nImage: nginx:stable | \u003cECS_SERVICE_DOES_NOT_EXIST_YET\u003e\nCPU: 256 | \nMemory: 512 | \nMemory Reservation: 0 | \nDocker Labels:  | \nEnvironment: {\"ENV_VARIABLE\":\"SOMETHING\"} | \nHas_changed: true\n"
                },
                "selected_task_definition_for_deployment": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web:1"
                }
            },
            "resources": {
                "data.aws_ecs_container_definition.current": {
                    "type": "aws_ecs_container_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-east-1:541585145005:task-definition/ecs-demo-demo-web:1/app",
                        "attributes": {
                            "container_name": "app",
                            "cpu": "256",
                            "disable_networking": "false",
                            "docker_labels.%": "0",
                            "environment.%": "1",
                            "environment.ENV_VARIABLE": "SOMETHING",
                            "id": "arn:aws:ecs:us-east-1:541585145005:task-definition/ecs-demo-demo-web:1/app",
                            "image": "nginx:stable",
                            "image_digest": "stable",
                            "memory": "512",
                            "memory_reservation": "0",
                            "task_definition": "ecs-demo-demo-web:1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "iam"
            ],
            "outputs": {
                "ecs_task_execution_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-ecs-task-execution_role"
                },
                "ecs_taskrole_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-task-role"
                },
                "ecs_taskrole_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-demo-demo-web-task-role"
                },
                "lambda_ecs_task_scheduler_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-lambda-task-scheduler-ecs-demo-demo-web"
                },
                "lambda_lookup_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::541585145005:role/ecs-lambda-lookup-ecs-demo-demo-web"
                },
                "lambda_lookup_role_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-lambda-lookup-ecs-demo-demo-web"
                },
                "lambda_lookup_role_policy_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ecs-lambda-lookup-ecs-demo-demo-web:terraform-20190803214550806500000002"
                }
            },
            "resources": {
                "aws_iam_role.ecs_task_execution_role": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.ecs_task_assume_role"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web-ecs-task-execution_role",
                        "attributes": {
                            "arn": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-ecs-task-execution_role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-08-03T21:45:51Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "ecs-demo-demo-web-ecs-task-execution_role",
                            "max_session_duration": "3600",
                            "name": "ecs-demo-demo-web-ecs-task-execution_role",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAX4GH5PSWVPCKVI34Q"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.ecs_tasks_role": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.ecs_task_assume_role"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web-task-role",
                        "attributes": {
                            "arn": "arn:aws:iam::541585145005:role/ecs-demo-demo-web-task-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-08-03T21:45:51Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "ecs-demo-demo-web-task-role",
                            "max_session_duration": "3600",
                            "name": "ecs-demo-demo-web-task-role",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAX4GH5PSW66NWUD4WP"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.lambda_ecs_task_scheduler": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.lambda_trust_policy"
                    ],
                    "primary": {
                        "id": "ecs-lambda-task-scheduler-ecs-demo-demo-web",
                        "attributes": {
                            "arn": "arn:aws:iam::541585145005:role/ecs-lambda-task-scheduler-ecs-demo-demo-web",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-08-03T21:45:51Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "ecs-lambda-task-scheduler-ecs-demo-demo-web",
                            "max_session_duration": "3600",
                            "name": "ecs-lambda-task-scheduler-ecs-demo-demo-web",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAX4GH5PSW2EFXIJTY6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.lambda_lookup": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.lambda_trust_policy"
                    ],
                    "primary": {
                        "id": "ecs-lambda-lookup-ecs-demo-demo-web",
                        "attributes": {
                            "arn": "arn:aws:iam::541585145005:role/ecs-lambda-lookup-ecs-demo-demo-web",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-08-03T21:45:51Z",
                            "description": "Role permitting Lambda functions to be invoked from Lambda",
                            "force_detach_policies": "false",
                            "id": "ecs-lambda-lookup-ecs-demo-demo-web",
                            "max_session_duration": "3600",
                            "name": "ecs-lambda-lookup-ecs-demo-demo-web",
                            "path": "/",
                            "tags.%": "0",
                            "unique_id": "AROAX4GH5PSW4TOKIHZGT"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.lambda_ecs_task_scheduler_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.lambda_ecs_task_scheduler",
                        "data.aws_iam_policy_document.lambda_ecs_task_scheduler_policy"
                    ],
                    "primary": {
                        "id": "ecs-lambda-task-scheduler-ecs-demo-demo-web:terraform-20190803214550790000000001",
                        "attributes": {
                            "id": "ecs-lambda-task-scheduler-ecs-demo-demo-web:terraform-20190803214550790000000001",
                            "name": "terraform-20190803214550790000000001",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:PassRole\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ecs:RunTask\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"ArnEquals\": {\n          \"ecs:cluster\": \"arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListTasks\",\n        \"ecs:ListTaskDefinitions\",\n        \"ecs:DescribeTasks\",\n        \"ecs:DescribeTaskDefinition\",\n        \"ecs:DescribeServices\",\n        \"ecs:DeregisterTaskDefinition\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:PutLogEvents\",\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*.*\"\n    }\n  ]\n}",
                            "role": "ecs-lambda-task-scheduler-ecs-demo-demo-web"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.lambda_lookup_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.lambda_lookup",
                        "data.aws_iam_policy_document.lambda_lookup_policy"
                    ],
                    "primary": {
                        "id": "ecs-lambda-lookup-ecs-demo-demo-web:terraform-20190803214550806500000002",
                        "attributes": {
                            "id": "ecs-lambda-lookup-ecs-demo-demo-web:terraform-20190803214550806500000002",
                            "name": "terraform-20190803214550806500000002",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListTasks\",\n        \"ecs:ListTaskDefinitions\",\n        \"ecs:DescribeTasks\",\n        \"ecs:DescribeTaskDefinition\",\n        \"ecs:DescribeServices\",\n        \"ecs:DeregisterTaskDefinition\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:PutLogEvents\",\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*.*\"\n    }\n  ]\n}",
                            "role": "ecs-lambda-lookup-ecs-demo-demo-web"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.ecs_tasks_execution_role": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.ecs_task_execution_role"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web-ecs-task-execution_role-20190803214550901600000003",
                        "attributes": {
                            "id": "ecs-demo-demo-web-ecs-task-execution_role-20190803214550901600000003",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy",
                            "role": "ecs-demo-demo-web-ecs-task-execution_role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_caller_identity.current": {
                    "type": "aws_caller_identity",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-08-03 21:45:25.734069 +0000 UTC",
                        "attributes": {
                            "account_id": "541585145005",
                            "arn": "arn:aws:iam::541585145005:user/hshahin@vt.edu",
                            "id": "2019-08-03 21:45:25.734069 +0000 UTC",
                            "user_id": "AIDAX4GH5PSW4NUD267MB"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.ecs_task_assume_role": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "320642683",
                        "attributes": {
                            "id": "320642683",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.2528466339": "sts:AssumeRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.1709806136.identifiers.#": "1",
                            "statement.0.principals.1709806136.identifiers.3389920935": "ecs-tasks.amazonaws.com",
                            "statement.0.principals.1709806136.type": "Service",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.lambda_ecs_task_scheduler_policy": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "data.aws_caller_identity.current.*"
                    ],
                    "primary": {
                        "id": "1353567864",
                        "attributes": {
                            "id": "1353567864",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:PassRole\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ecs:RunTask\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"ArnEquals\": {\n          \"ecs:cluster\": \"arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListTasks\",\n        \"ecs:ListTaskDefinitions\",\n        \"ecs:DescribeTasks\",\n        \"ecs:DescribeTaskDefinition\",\n        \"ecs:DescribeServices\",\n        \"ecs:DeregisterTaskDefinition\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:PutLogEvents\",\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*.*\"\n    }\n  ]\n}",
                            "statement.#": "5",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.646648939": "iam:PassRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.2679715827": "*",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "1",
                            "statement.1.actions.274876584": "ecs:RunTask",
                            "statement.1.condition.#": "1",
                            "statement.1.condition.2225036148.test": "ArnEquals",
                            "statement.1.condition.2225036148.values.#": "1",
                            "statement.1.condition.2225036148.values.1017398765": "arn:aws:ecs:us-east-1:541585145005:cluster/ecs-demo",
                            "statement.1.condition.2225036148.variable": "ecs:cluster",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "1",
                            "statement.1.resources.2679715827": "*",
                            "statement.1.sid": "",
                            "statement.2.actions.#": "6",
                            "statement.2.actions.1001385505": "ecs:DescribeTaskDefinition",
                            "statement.2.actions.101654699": "ecs:ListTasks",
                            "statement.2.actions.2086247879": "ecs:DescribeServices",
                            "statement.2.actions.2483994223": "ecs:DeregisterTaskDefinition",
                            "statement.2.actions.2813883710": "ecs:ListTaskDefinitions",
                            "statement.2.actions.974674342": "ecs:DescribeTasks",
                            "statement.2.condition.#": "0",
                            "statement.2.effect": "Allow",
                            "statement.2.not_actions.#": "0",
                            "statement.2.not_principals.#": "0",
                            "statement.2.not_resources.#": "0",
                            "statement.2.principals.#": "0",
                            "statement.2.resources.#": "1",
                            "statement.2.resources.2679715827": "*",
                            "statement.2.sid": "",
                            "statement.3.actions.#": "3",
                            "statement.3.actions.2809485102": "logs:CreateLogGroup",
                            "statement.3.actions.3285979848": "logs:CreateLogStream",
                            "statement.3.actions.39743051": "logs:PutLogEvents",
                            "statement.3.condition.#": "0",
                            "statement.3.effect": "Allow",
                            "statement.3.not_actions.#": "0",
                            "statement.3.not_principals.#": "0",
                            "statement.3.not_resources.#": "0",
                            "statement.3.principals.#": "0",
                            "statement.3.resources.#": "1",
                            "statement.3.resources.1617120947": "arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*",
                            "statement.3.sid": "",
                            "statement.4.actions.#": "1",
                            "statement.4.actions.39743051": "logs:PutLogEvents",
                            "statement.4.condition.#": "0",
                            "statement.4.effect": "Allow",
                            "statement.4.not_actions.#": "0",
                            "statement.4.not_principals.#": "0",
                            "statement.4.not_resources.#": "0",
                            "statement.4.principals.#": "0",
                            "statement.4.resources.#": "1",
                            "statement.4.resources.3688409063": "arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-task-scheduler:*.*",
                            "statement.4.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.lambda_lookup_policy": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "data.aws_caller_identity.current.*"
                    ],
                    "primary": {
                        "id": "396141989",
                        "attributes": {
                            "id": "396141989",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:ListTasks\",\n        \"ecs:ListTaskDefinitions\",\n        \"ecs:DescribeTasks\",\n        \"ecs:DescribeTaskDefinition\",\n        \"ecs:DescribeServices\",\n        \"ecs:DeregisterTaskDefinition\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:PutLogEvents\",\n      \"Resource\": \"arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*.*\"\n    }\n  ]\n}",
                            "statement.#": "3",
                            "statement.0.actions.#": "6",
                            "statement.0.actions.1001385505": "ecs:DescribeTaskDefinition",
                            "statement.0.actions.101654699": "ecs:ListTasks",
                            "statement.0.actions.2086247879": "ecs:DescribeServices",
                            "statement.0.actions.2483994223": "ecs:DeregisterTaskDefinition",
                            "statement.0.actions.2813883710": "ecs:ListTaskDefinitions",
                            "statement.0.actions.974674342": "ecs:DescribeTasks",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.2679715827": "*",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "3",
                            "statement.1.actions.2809485102": "logs:CreateLogGroup",
                            "statement.1.actions.3285979848": "logs:CreateLogStream",
                            "statement.1.actions.39743051": "logs:PutLogEvents",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "1",
                            "statement.1.resources.456840575": "arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*",
                            "statement.1.sid": "",
                            "statement.2.actions.#": "1",
                            "statement.2.actions.39743051": "logs:PutLogEvents",
                            "statement.2.condition.#": "0",
                            "statement.2.effect": "Allow",
                            "statement.2.not_actions.#": "0",
                            "statement.2.not_principals.#": "0",
                            "statement.2.not_resources.#": "0",
                            "statement.2.principals.#": "0",
                            "statement.2.resources.#": "1",
                            "statement.2.resources.3679063600": "arn:aws:logs:us-east-1:541585145005:log-group:/aws/lambda/ecs-demo-demo-web-lambda-lookup:*.*",
                            "statement.2.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.lambda_trust_policy": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3693445097",
                        "attributes": {
                            "id": "3693445097",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.2528466339": "sts:AssumeRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.3118762561.identifiers.#": "1",
                            "statement.0.principals.3118762561.identifiers.2638019528": "lambda.amazonaws.com",
                            "statement.0.principals.3118762561.type": "Service",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.s3_ro_permissions": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3350033020",
                        "attributes": {
                            "id": "3350033020",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\"\n    }\n  ]\n}",
                            "statement.#": "2",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.486976917": "s3:ListBucket",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "1",
                            "statement.1.actions.2071725391": "s3:GetObject",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "0",
                            "statement.1.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.s3_rw_permissions": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "873064038",
                        "attributes": {
                            "id": "873064038",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\"\n    }\n  ]\n}",
                            "statement.#": "2",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.486976917": "s3:ListBucket",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "1",
                            "statement.1.actions.1834123015": "s3:*",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "0",
                            "statement.1.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "lambda_ecs_task_scheduler"
            ],
            "outputs": {},
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "fargate_service",
                "live_task_lookup"
            ],
            "outputs": {
                "cpu": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "docker_label_hash": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "environment_json": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "image": {
                    "sensitive": false,
                    "type": "string",
                    "value": "\u003cECS_SERVICE_DOES_NOT_EXIST_YET\u003e"
                },
                "memory": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "memory_reservation": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "revision": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {
                "aws_lambda_function.lambda_lookup": {
                    "type": "aws_lambda_function",
                    "depends_on": [
                        "null_resource.force_policy_dependency"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web-lambda-lookup",
                        "attributes": {
                            "arn": "arn:aws:lambda:us-east-1:541585145005:function:ecs-demo-demo-web-lambda-lookup",
                            "dead_letter_config.#": "0",
                            "description": "",
                            "environment.#": "0",
                            "filename": "/Users/hshahin/workspaces/training/terraform/airship/.terraform/modules/df3a4aa685afabcea3350800a7903a9e/lookup.zip",
                            "function_name": "ecs-demo-demo-web-lambda-lookup",
                            "handler": "index.handler",
                            "id": "ecs-demo-demo-web-lambda-lookup",
                            "invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:541585145005:function:ecs-demo-demo-web-lambda-lookup/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-08-03T21:46:00.131+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "publish": "true",
                            "qualified_arn": "arn:aws:lambda:us-east-1:541585145005:function:ecs-demo-demo-web-lambda-lookup:1",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::541585145005:role/ecs-lambda-lookup-ecs-demo-demo-web",
                            "runtime": "nodejs8.10",
                            "source_code_hash": "FpADIVAgjPTI4NoP3Bukvb+obkKypU2SNX1OQ18FVnE=",
                            "source_code_size": "1178",
                            "tags.%": "0",
                            "timeout": "3",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "1",
                            "vpc_config.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lambda_invocation.lambda_lookup": {
                    "type": "aws_lambda_invocation",
                    "depends_on": [
                        "aws_lambda_function.lambda_lookup"
                    ],
                    "primary": {
                        "id": "ecs-demo-demo-web-lambda-lookup_1_e2b7df99c55db41d64b18113d300fadc",
                        "attributes": {
                            "function_name": "ecs-demo-demo-web-lambda-lookup",
                            "id": "ecs-demo-demo-web-lambda-lookup_1_e2b7df99c55db41d64b18113d300fadc",
                            "input": "{\n  \"ecs_cluster\": \"ecs-demo\",\n  \"ecs_service\": \"demo-web\",\n  \"ecs_task_container_name\": \"app\"\n}\n",
                            "qualifier": "1",
                            "result": "{\"image\":\"\u003cECS_SERVICE_DOES_NOT_EXIST_YET\u003e\",\"memory_reservation\":\"\",\"cpu\":\"\",\"memory\":\"\",\"environment\":\"\",\"task_revision\":\"\"}",
                            "result_map.%": "6",
                            "result_map.cpu": "",
                            "result_map.environment": "",
                            "result_map.image": "\u003cECS_SERVICE_DOES_NOT_EXIST_YET\u003e",
                            "result_map.memory": "",
                            "result_map.memory_reservation": "",
                            "result_map.task_revision": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "null_resource.force_policy_dependency": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "5065331350723765518",
                        "attributes": {
                            "id": "5065331350723765518",
                            "triggers.%": "1",
                            "triggers.listeners": "ecs-lambda-lookup-ecs-demo-demo-web:terraform-20190803214550806500000002"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lb_s3_bucket",
                "label"
            ],
            "outputs": {
                "attributes": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "namespace": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr"
                },
                "stage": {
                    "sensitive": false,
                    "type": "string",
                    "value": "test"
                },
                "tags": {
                    "sensitive": false,
                    "type": "map",
                    "value": {
                        "Name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                        "Namespace": "dcr",
                        "Stage": "test"
                    }
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lb_s3_bucket",
                "s3_bucket"
            ],
            "outputs": {
                "bucket_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "bucket_domain_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer.s3.amazonaws.com"
                },
                "bucket_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "prefix": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                }
            },
            "resources": {
                "aws_s3_bucket.default": {
                    "type": "aws_s3_bucket",
                    "depends_on": [
                        "module.default_label"
                    ],
                    "primary": {
                        "id": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "log-delivery-write",
                            "arn": "arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "bucket": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "bucket_domain_name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer.s3.amazonaws.com",
                            "bucket_regional_domain_name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer.s3.amazonaws.com",
                            "cors_rule.#": "0",
                            "force_destroy": "true",
                            "hosted_zone_id": "Z3AQBSTGFYJSTF",
                            "id": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "lifecycle_rule.#": "1",
                            "lifecycle_rule.0.abort_incomplete_multipart_upload_days": "0",
                            "lifecycle_rule.0.enabled": "false",
                            "lifecycle_rule.0.expiration.#": "1",
                            "lifecycle_rule.0.expiration.4042355233.date": "",
                            "lifecycle_rule.0.expiration.4042355233.days": "90",
                            "lifecycle_rule.0.expiration.4042355233.expired_object_delete_marker": "false",
                            "lifecycle_rule.0.id": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "lifecycle_rule.0.noncurrent_version_expiration.#": "1",
                            "lifecycle_rule.0.noncurrent_version_expiration.1315073419.days": "90",
                            "lifecycle_rule.0.noncurrent_version_transition.#": "1",
                            "lifecycle_rule.0.noncurrent_version_transition.3891883947.days": "30",
                            "lifecycle_rule.0.noncurrent_version_transition.3891883947.storage_class": "GLACIER",
                            "lifecycle_rule.0.prefix": "",
                            "lifecycle_rule.0.tags.%": "3",
                            "lifecycle_rule.0.tags.Name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "lifecycle_rule.0.tags.Namespace": "dcr",
                            "lifecycle_rule.0.tags.Stage": "test",
                            "lifecycle_rule.0.transition.#": "2",
                            "lifecycle_rule.0.transition.2000431762.date": "",
                            "lifecycle_rule.0.transition.2000431762.days": "30",
                            "lifecycle_rule.0.transition.2000431762.storage_class": "STANDARD_IA",
                            "lifecycle_rule.0.transition.6450812.date": "",
                            "lifecycle_rule.0.transition.6450812.days": "60",
                            "lifecycle_rule.0.transition.6450812.storage_class": "GLACIER",
                            "logging.#": "0",
                            "object_lock_configuration.#": "0",
                            "policy": "{\"Statement\":[{\"Action\":\"s3:PutObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::127311923021:root\"},\"Resource\":\"arn:aws:s3:::dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer/*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
                            "region": "us-east-1",
                            "replication_configuration.#": "0",
                            "request_payer": "BucketOwner",
                            "server_side_encryption_configuration.#": "1",
                            "server_side_encryption_configuration.0.rule.#": "1",
                            "server_side_encryption_configuration.0.rule.0.apply_server_side_encryption_by_default.#": "1",
                            "server_side_encryption_configuration.0.rule.0.apply_server_side_encryption_by_default.0.kms_master_key_id": "",
                            "server_side_encryption_configuration.0.rule.0.apply_server_side_encryption_by_default.0.sse_algorithm": "AES256",
                            "tags.%": "3",
                            "tags.Name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "tags.Namespace": "dcr",
                            "tags.Stage": "test",
                            "versioning.#": "1",
                            "versioning.0.enabled": "true",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lb_s3_bucket",
                "s3_bucket",
                "default_label"
            ],
            "outputs": {
                "attributes": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "lb-s3-bucket-98749234phwhfkjsdhfwer"
                },
                "namespace": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dcr"
                },
                "stage": {
                    "sensitive": false,
                    "type": "string",
                    "value": "test"
                },
                "tags": {
                    "sensitive": false,
                    "type": "map",
                    "value": {
                        "Name": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                        "Namespace": "dcr",
                        "Stage": "test"
                    }
                }
            },
            "resources": {
                "null_resource.default": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "6925253095427953331",
                        "attributes": {
                            "id": "6925253095427953331",
                            "triggers.%": "5",
                            "triggers.attributes": "",
                            "triggers.id": "dcr-test-lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "triggers.name": "lb-s3-bucket-98749234phwhfkjsdhfwer",
                            "triggers.namespace": "dcr",
                            "triggers.stage": "test"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        }
    ]
}
